<!DOCTYPE html>
<html>
<head>
<title>Change Password</title>
</head>

<body style="font-family:Arial;display:flex;justify-content:center;align-items:center;height:100vh;background:#f2f5f9;">

<div style="background:white;padding:30px;border-radius:12px;width:320px;box-shadow:0 10px 25px rgba(0,0,0,.08);">

<h3>Change Password</h3>

<input id="newPass" type="password" placeholder="New Password" style="width:100%;padding:10px;margin-top:10px">

<button onclick="changePassword()" style="width:100%;padding:12px;margin-top:15px;background:#2b7cff;color:white;border:none;border-radius:8px;">
Update Password
</button>

<p id="msg"></p>

</div>


<script>

const API_URL = "https://script.google.com/a/macros/paruluniversity.ac.in/s/AKfycbxMicZzArAZ7HM_FbfWc7Ie5hsMSPn3VKsWCNY6RkP5VUom-91nC38nK3nJXCsjKNrF0g/exec";

async function changePassword(){

    const newPassword = document.getElementById("newPass").value;

    const username = sessionStorage.getItem("mentorMIS");

    const res = await fetch(API_URL,{
        method:"POST",
        body:JSON.stringify({
            action:"changePassword",
            username,
            newPassword
        })
    });

    const data = await res.json();

    if(data.success){

        alert("Password updated. Please login again.");

        sessionStorage.clear();

        window.location="index.html";
    }

}

</script>

</body>
</html>
